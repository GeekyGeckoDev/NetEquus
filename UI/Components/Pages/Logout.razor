@page "/logout"
@using Application.UserApp.AuthServices
@using Application.UserApp.IAuthServices
@rendermode InteractiveServer

<button class="btn btn-danger" @onclick="HandleLogout">Logout</button>

@code {
    [Inject] private IAuthService AuthService { get; set; }
    [Inject] private NavigationManager Navigation { get; set; }

    private async Task HandleLogout()
    {
        // Call the new AuthService logout (this clears token + notifies provider)
        await AuthService.LogoutAsync();

        // Navigate back to login screen
        Navigation.NavigateTo("/login", forceLoad: true);
    }
}